<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Feed</title>
</head>
<body>
    <video id="video" width="400" height=400></video>
    <canvas id="feed1"></canvas>
    <button id="capImage">Take Photo</button>
    <button id="capVideo">Start Video Record</button>
    <button id="capAudio">Start Audio Record</button>
    <div id="feed" style="width:50px">

    </div>
    <canvas id="capture"></canvas>
    <script>
            let video = document.getElementById("video")
            let prop = {video:true, audio:true} 
            let canvas = document.getElementById('capture')
            let ctx = canvas.getContext('2d')
            let feed = document.getElementById('feed')
            
            navigator.getUserMedia(prop, (stream)=>{
                video.srcObject = stream
                video.play()
            }, (error) => alert(error))

            document.getElementById('capImage').addEventListener('click', ()=> {
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height)

                let img = document.createElement('img')
                img.setAttribute('src', canvas.toDataURL('image/png'))
                feed.appendChild(img)
            })
            
    </script>
</body>
</html>